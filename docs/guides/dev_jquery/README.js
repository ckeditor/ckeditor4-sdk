Ext.data.JsonP.dev_jquery({"guide":"<h1 id='dev_jquery-section-the-jquery-adapter'>The jQuery Adapter</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/dev_jquery-section-creating-editor-instances'>Creating Editor Instances</a></li>\n<li><a href='#!/guide/dev_jquery-section-editor-instance'>Editor Instance</a></li>\n<li><a href='#!/guide/dev_jquery-section-the-.val%28%29-method'>The .val() Method</a></li>\n<li><a href='#!/guide/dev_jquery-section-submitting-data-and-the-jquery-form-plugin'>Submitting Data and the jQuery Form Plugin</a></li>\n<li><a href='#!/guide/dev_jquery-section-event-handling'>Event Handling</a></li>\n</ol>\n</div>\n\n<p>CKEditor offers native jQuery integration through its jQuery Adapter (a jQuery plugin basically). It provides deep integration of CKEditor and jQuery that lets you use the native features of jQuery when using CKEditor. The jQuery Adapter is compatible with jQuery versions 1.7+ and 2.0+.</p>\n\n<p>Thanks to the jQuery Adapter every <code>textarea</code> element can be converted into a <a href=\"#!/guide/dev_framed\">framed editor</a>, while  any other <a href=\"#!/api/CKEDITOR.dtd-property-S-editable\" rel=\"CKEDITOR.dtd-property-S-editable\" class=\"docClass\">editable</a> element can be changed into an <a href=\"#!/guide/dev_inline\">inline editor</a>.</p>\n\n<h2 id='dev_jquery-section-creating-editor-instances'>Creating Editor Instances</h2>\n\n<p>In order to create editor instances, load the jQuery script file, the CKEditor core script file as well as the jQuery Adapter file, in the following order:</p>\n\n<pre><code>&lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;script src=\"ckeditor.js\"&gt;&lt;/script&gt;\n&lt;script src=\"adapters/jquery.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>At this point you can transform elements into a rich text editor by using the <a href=\"#!/api/CKEDITOR_Adapters.jQuery-method-ckeditor\" rel=\"CKEDITOR_Adapters.jQuery-method-ckeditor\" class=\"docClass\">ckeditor()</a> method.</p>\n\n<pre><code>$( 'textarea.editor' ).ckeditor();\n</code></pre>\n\n<p>Note that you can also make use of the jQuery chaining.</p>\n\n<pre><code>$( '.section-x' )\n    .find( 'textarea.editor' )\n        .ckeditor()\n    .end()\n    .find( 'a' )\n        .addClass( 'mylink' )\n    .end();\n</code></pre>\n\n<p>The <a href=\"#!/api/CKEDITOR_Adapters.jQuery-method-ckeditor\" rel=\"CKEDITOR_Adapters.jQuery-method-ckeditor\" class=\"docClass\">ckeditor()</a> method is the main method of the jQuery Adapter. It accepts two optional parameters:</p>\n\n<ul>\n<li><p>A callback function to be executed when the editor is ready.</p>\n\n<pre><code> $( 'textarea' ).ckeditor( function( textarea ) {\n   // Callback function code.\n } );\n</code></pre></li>\n<li><p>Configuration options specific to the created editor instance.</p>\n\n<pre><code> $( 'textarea' ).ckeditor( {\n     uiColor: '#9AB8F3'\n } );\n</code></pre></li>\n</ul>\n\n\n<p>Mixed parameter order is allowed. The configuration options are passed through a simple object that contains properties, each one related to a specific editor setting.</p>\n\n<pre><code>$('#jquery_ckeditor')\n    .ckeditor( function() { /* Callback function code. */ }, { uiColor : '#9AB8F3' } )\n    .ckeditor( callback2 );\n</code></pre>\n\n<p>Please note that the code presented above will not create two editors. On discovering that one editor is already being created, it will wait with the second callback. Each of the callback functions will be executed in the context of the <a href=\"#!/api/CKEDITOR.editor\" rel=\"CKEDITOR.editor\" class=\"docClass\">CKEDITOR.editor</a> object (so this will be the editor) and the DOM element object will be passed as a parameter.</p>\n\n<p>The problem with the callback parameter appears when you apply the <code>ckeditor()</code> method on a collection:</p>\n\n<pre><code>$('.editors')\n    .ckeditor( function() {\n        // This function will be called repeatedly (as many times as many elements have the 'editors' class).\n    } );\n</code></pre>\n\n<p>If you want to apply some code after the last editor is created with a callback, you would need to create a counter to count the number of callback functions already called. To avoid this, the jQuery Adapter returns the <a href=\"#!/api/CKEDITOR_Adapters.jQuery-property-promise\" rel=\"CKEDITOR_Adapters.jQuery-property-promise\" class=\"docClass\">jQuery Promise object</a> which will be called after the last callback. With this Promise object you can use all of the jQuery helpers for asynchronous operations like <code>$.when()</code>:</p>\n\n<pre><code>$.when( $( '.editors' ).ckeditor().promise ).then( function() {\n    // Now all editors have already been created.\n} );\n</code></pre>\n\n<h2 id='dev_jquery-section-editor-instance'>Editor Instance</h2>\n\n<p>If you need access to the <a href=\"#!/api/CKEDITOR.editor\" rel=\"CKEDITOR.editor\" class=\"docClass\">CKEDITOR.editor</a> object, you can use the <a href=\"#!/api/CKEDITOR_Adapters.jQuery-property-editor\" rel=\"CKEDITOR_Adapters.jQuery-property-editor\" class=\"docClass\">editor</a> property:</p>\n\n<pre><code>var editor = $('.jquery_ckeditor').ckeditor().editor;\nalert( editor.checkDirty() );\n</code></pre>\n\n<p>To preserve backward compatibility with the CKEditor 3.x adapter version, it is also possible to use the <a href=\"#!/api/CKEDITOR_Adapters.jQuery-method-ckeditorGet\" rel=\"CKEDITOR_Adapters.jQuery-method-ckeditorGet\" class=\"docClass\">ckeditorGet()</a> method, but this way is deprecated.</p>\n\n<h2 id='dev_jquery-section-the-.val%28%29-method'>The .val() Method</h2>\n\n<p>Because setting and retrieving the editor data is a common operation, the jQuery Adapter also provides a dedicated <a href=\"#!/api/CKEDITOR_Adapters.jQuery-method-val\" rel=\"CKEDITOR_Adapters.jQuery-method-val\" class=\"docClass\">val()</a> method that is an extension of the original <a href=\"http://api.jquery.com/val/\">jQuery val()</a> method. It works similarily to the jQuery version and gets the value of the first element in the set of matched elements or sets the value of every matched element. Additionally it allows you to get or set the contents of the framed editor.</p>\n\n<pre><code>// Get the editor data.\nvar data = $( 'textarea.editor' ).val();\n// Set the editor data.\n$( 'textarea.editor' ).val( 'My new content' );\n</code></pre>\n\n<p>Because <a href=\"#!/api/CKEDITOR.editor-method-setData\" rel=\"CKEDITOR.editor-method-setData\" class=\"docClass\">setting data</a> in CKEditor is an asynchronous operation , <code>val( 'some data' )</code> will return a <a href=\"http://api.jquery.com/promise/\">jQuery Promise object</a> if any of the elements is an editor. You can use it with jQuery helpers:</p>\n\n<pre><code>$.when( $( '#editor' ).val( 'foo' ) ).then( function() {\n    // Now you are sure that the data is set.\n} );\n</code></pre>\n\n<p>This promise will be resolved when all <code>setData</code> methods are done.</p>\n\n<pre><code>$.when( $( '.editors' ).val( 'foo' ) ).then( function() {\n    // All of editors have set data.\n} );\n</code></pre>\n\n<p>Overwriting the <code>val()</code> function can be disabled by setting the <a href=\"#!/api/CKEDITOR.config-cfg-jqueryOverrideVal\" rel=\"CKEDITOR.config-cfg-jqueryOverrideVal\" class=\"docClass\">jqueryOverrideVal</a> configuration option to <code>false</code> before loading the adapter code.</p>\n\n<p>This method works only for editors created from <code>&lt;textarea&gt;</code> elements. It will not work for inline editors.</p>\n\n<h2 id='dev_jquery-section-submitting-data-and-the-jquery-form-plugin'>Submitting Data and the jQuery Form Plugin</h2>\n\n<p>The jQuery Adapter also adds some improvements for better integration with jQuery and the <a href=\"http://www.malsup.com/jquery/form/\">jQuery Form Plugin</a>. The adapter code was tested with version 3.24 of the plugin.</p>\n\n<p>First of all, the jQuery Adapter overwrites the CKEditor <a href=\"#!/api/CKEDITOR.editor-event-save\" rel=\"CKEDITOR.editor-event-save\" class=\"docClass\">save event</a>. If you use the adapter, each time the user presses the <strong>Save</strong> button on the editor toolbar, the <a href=\"http://api.jquery.com/submit/\">jQuery submit()</a> method will be called.</p>\n\n<p>Moreover for <code>&lt;textarea&gt;</code> elements the editor will also automatically return its contents back to the form when it is submitted.</p>\n\n<p>Thanks to these changes CKEditor automatically works with the official jQuery Form Plugin for Ajax-based forms. It does not require any action from the developer's side to support it.</p>\n\n<p>For example you can write the following HTML code:</p>\n\n<pre><code>&lt;form&gt;\n    &lt;textarea&gt;Lorem ipsum&lt;/textarea&gt;\n    &lt;input type=\"submit\" value=\"Save\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And some JavaScript code:</p>\n\n<pre><code>$( 'textarea' ).ckeditor();\n\n//...\n\n$( 'form' ).ajaxSubmit( {\n    beforeSubmit: function() {\n        // The textarea is already updated now and has the same value as the editor, so you can validate it.\n    }\n} );\n</code></pre>\n\n<h2 id='dev_jquery-section-event-handling'>Event Handling</h2>\n\n<p>Although CKEditor uses its own event system, there are five events which are being exposed to the jQuery event system. All events use the common event namespace, which is simply called <code>ckeditor</code>.</p>\n\n<p>The following events are available:</p>\n\n<ul>\n<li><a href=\"#!/api/CKEDITOR_Adapters.jQuery-event-instanceReady\" rel=\"CKEDITOR_Adapters.jQuery-event-instanceReady\" class=\"docClass\">instanceReady.ckeditor</a> &ndash; Fired when the editor is created, but before any callback is passed to the <code>ckeditor()</code> method.</li>\n<li><a href=\"#!/api/CKEDITOR_Adapters.jQuery-event-destroy\" rel=\"CKEDITOR_Adapters.jQuery-event-destroy\" class=\"docClass\">destroy.ckeditor</a> &ndash; Fired when the editor gets destroyed. It can be used, for example, to execute some cleanup code on the page.</li>\n<li><a href=\"#!/api/CKEDITOR_Adapters.jQuery-event-setData\" rel=\"CKEDITOR_Adapters.jQuery-event-setData\" class=\"docClass\">setData.ckeditor</a> &ndash; Fired when the data is set in the editor. This allows you to perform some additional data manipulation.</li>\n<li><a href=\"#!/api/CKEDITOR_Adapters.jQuery-event-dataReady\" rel=\"CKEDITOR_Adapters.jQuery-event-dataReady\" class=\"docClass\">dataReady.ckeditor</a> &ndash; Fired as an indicator of the editor data loading.</li>\n<li><p><a href=\"#!/api/CKEDITOR_Adapters.jQuery-event-getData\" rel=\"CKEDITOR_Adapters.jQuery-event-getData\" class=\"docClass\">getData.ckeditor</a> &ndash; Fired when the data is fetched from the editor. The current editor data is also passed in the arguments. For example:</p>\n\n<pre><code> $( '.editor' ).ckeditor().on( 'getData.ckeditor', function( event, editor, data ) {\n     // If you want to convert the data to upper case whenever you get a value.\n     data.dataValue = data.dataValue.toUpperCase();\n } );\n</code></pre></li>\n</ul>\n\n\n<p>The editor instance is always passed as the first data argument for the listener. The <code>getData</code>, <code>dataReady</code>, and <code>setData</code> events are often used internally, so listening to them should be done with care.</p>\n\n<p>If you apply an event on a collection, it will be connected with each editor in the collection.</p>\n\n<p>Note that jQuery events bubble up through the DOM tree, so they can be listened to selectively in certain parts of the document.</p>\n","title":"jQuery Adapter","meta_description":null,"meta_keywords":null});